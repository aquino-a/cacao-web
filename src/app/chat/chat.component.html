<cdk-virtual-scroll-viewport [itemSize]="46" style="height: 100%;">
    <div class="message-container">
        <div #messages id="messages" *cdkVirtualFor='let message of messages; index as i; first as isFirst;'>
            <app-message [message]="message" [isUser]='message.fromUser == currentUserId' [isNewDate]="isFirst || isNewDate(i)" [isNewTime]="isNewTime(i)" ></app-message>
        </div>   
    </div>
</cdk-virtual-scroll-viewport>
<div id="newMessageWrapper">
    <input #newMessage type="text" style="width: 100%;" (keyup.enter)="send(newMessage.value); newMessage.value = '';"/>
</div>